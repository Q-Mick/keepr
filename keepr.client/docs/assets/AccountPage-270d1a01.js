import{_ as D,a as C,K as E,V as O,b as I,o as N,r as y,k as b,l as u,c,d as p,e as a,f as i,g as t,t as _,F as v,h as S,i as k,P as A,j as P,A as r,m as K,w as T,n as j,p as B,q as L,s as M}from"./index-64453b10.js";const U={components:{AccountSlide:C,Keep:E,Vault:O,KeepDetails:I},setup(){N(()=>f());const l=y(!1),o=y(!1);async function f(){try{await b.getKeeps()}catch(n){u.log(n.message)}}async function e(n){u.log("Submitted account:",n);try{A.toast("updating account"),await P.editAccount(n)}catch(m){A.error(m,"[Editing Account]")}}function h(){l.value=!0}function g(){l.value=!1}return{handleSubmit:e,closeSlide:g,openSlide:h,openAcct:l,myVaults:c(()=>r.myVaults),open:c(()=>l.value),user:c(()=>r.user),openDetails:c(()=>o.value),account:c(()=>r.account),keeps:c(()=>r.myKeeps),actKeep:c(()=>r.actKeep),vaults:c(()=>r.myVaults),async setActiveKeep(n){u.log("[FUNCTION - OPEN DETAILS MODAL] Payload --->",n),await b.setActiveKeep(n),o.value=!0},closeModal(){u.log("[CLOSE MODAL EVENT RECEIVED]"),o.value=!1}}}},d=l=>(B("data-v-99b37f68"),l=l(),L(),l),z={class:"flex"},F=d(()=>t("div",{class:"w-3 sm:w-[20%]"},null,-1)),Y={class:"w-full px-0 sm:px10 sm:w-[80%]"},q={class:"flex flex-col column-3 justify-center items-center align-middle mt-7"},R={class:"w-full px-5 sm:px-0 sm:max-w-[50rem] h-96"},G={class:"relative h-full w-full"},H=["src"],J={class:"avatar absolute bottom-[-2rem] left-[39%] sm:left-[45%] rounded-full border border-white elevation"},Q={class:"w-[5rem] rounded-full"},W=["src"],X={class:"flex justify-end"},Z={class:"text-5xl font-serif font-extrabold text-center mt-9"},$=d(()=>t("p",null,null,-1)),ee={id:"VKCount"},te={class:"text-xl font-serif font-thin text-center"},se=d(()=>t("div",{id:"VaultsSection",class:"flex"},[t("div",{class:""},[t("p",{class:"text-4xl sm:text-5xl font-serif font-extrabold text-start mt-5"},"Vaults")])],-1)),oe={key:0},le={class:"relative grid grid-cols-2 sm:grid-cols-4 gap-x-5 gap-y-1"},ne={key:1},ae=d(()=>t("p",{class:"pl-3 pt-5"},"You have no vaults yet.",-1)),ce=[ae],ie=d(()=>t("div",null,[t("p",{class:"text-4xl sm:text-5xl font-serif font-extrabold text-start mt-5"},"Keeps")],-1)),de={key:2},re={class:"relative columns-2 sm:columns-4 gap-3 px-1 sm:pr-0 sm:gap-8 pt-5 mb-5"},ue={key:3},pe=d(()=>t("p",{class:"pl-3 pt-5"},"You have no Keeps yet.",-1)),_e=[pe],me=d(()=>t("div",{class:"w-3 sm:w-[20%]"},null,-1));function ve(l,o,f,e,h,g){var x;const n=p("Vault"),m=p("Keep"),w=p("KeepDetails"),V=p("AccountSlide");return a(),i(v,null,[t("div",z,[F,t("div",Y,[t("div",q,[t("div",R,[t("div",G,[t("img",{class:"h-full w-full object-fit aspect-video sm:object-cover",src:e.account.coverImg,alt:"Banner",title:"Account cover image"},null,8,H),t("div",J,[t("div",Q,[t("img",{src:e.account.picture,alt:"",title:"Account Picture"},null,8,W)])])]),t("div",X,[t("button",{onClick:o[0]||(o[0]=(...s)=>e.openSlide&&e.openSlide(...s)),class:"btn btn-xs btn-neutral mt-1"},"Edit")])]),t("p",Z,_((x=e.account)==null?void 0:x.name),1),$,t("div",ee,[t("p",te,_(e.keeps.length)+" keeps | "+_(e.vaults.length)+" Vaults",1)])]),se,e.vaults.length!=0?(a(),i("div",oe,[t("div",le,[(a(!0),i(v,null,S(e.vaults,s=>(a(),K(n,{key:s.id,vault:s,class:"my-2 border min-h-full border-zinc-600"},{default:T(()=>[M(_(s.name),1)]),_:2},1032,["vault"]))),128))])])):(a(),i("div",ne,ce)),ie,e.keeps.length!=0?(a(),i("div",de,[t("div",re,[(a(!0),i(v,null,S(e.keeps,s=>(a(),K(m,{onClick:fe=>e.setActiveKeep(s.id),key:s.id,keep:s,"show-creator-pic":!1,class:"my-5 border border-zinc-600",style:j({marginTop:s.id===e.keeps[0].id?"0":"auto"})},null,8,["onClick","keep","style"]))),128))])])):(a(),i("div",ue,_e))]),me]),k(w,{onToggleDetails:e.closeModal,vault:e.myVaults,"onUpdate:vault":o[1]||(o[1]=s=>e.myVaults=s),isOpen:e.openDetails,"onUpdate:isOpen":o[2]||(o[2]=s=>e.openDetails=s),keep:e.actKeep,"onUpdate:keep":o[3]||(o[3]=s=>e.actKeep=s)},null,8,["onToggleDetails","vault","isOpen","keep"]),k(V,{open:e.open,"onUpdate:open":o[4]||(o[4]=s=>e.open=s),account:e.account,onCloseSlide:e.closeSlide,onSubmitAccount:e.handleSubmit},null,8,["open","account","onCloseSlide","onSubmitAccount"])],64)}const ge=D(U,[["render",ve],["__scopeId","data-v-99b37f68"]]);export{ge as default};
