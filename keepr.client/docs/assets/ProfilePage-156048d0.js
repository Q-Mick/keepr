import{_ as P,K as D,V as I,b as S,u as C,o as f,r as E,k as w,l as n,j as u,c as i,d as m,e as c,f as p,g as e,t as _,F as g,h as K,i as A,A as r,m as V,w as O,n as T,p as N,q as B,s as L}from"./index-41a290b9.js";const M={components:{Keep:D,Vault:I,KeepDetails:S},setup(){const l=C();f(()=>v()),f(()=>x()),f(()=>s()),f(()=>h());const a=E(!1);async function v(){try{await w.getKeeps()}catch(t){n.log(t.message)}}async function s(){try{const t=l.params.profileId;await u.getProfileKeeps(t)}catch(t){n.log(t.message)}}async function h(){try{const t=l.params.profileId;await u.getProfileVaults(t)}catch(t){n.log(t.message)}}async function x(){try{const t=l.params.profileId;await u.getProfile(t)}catch(t){n.log(t.message)}}return{openDetails:i(()=>a.value),account:i(()=>r.account),keeps:i(()=>r.profileKeeps),actKeep:i(()=>r.actKeep),actVault:i(()=>r.actVault),profile:i(()=>r.activeProfile),vaults:i(()=>r.profileVaults),async setActiveKeep(t){n.log("[FUNCTION - OPEN DETAILS MODAL] Payload --->",t),await w.setActiveKeep(t),a.value=!0},closeModal(){n.log("[CLOSE MODAL EVENT RECEIVED]"),a.value=!1}}}},d=l=>(N("data-v-8fd89715"),l=l(),B(),l),j={class:"flex"},z=d(()=>e("div",{class:"w-3 sm:w-[20%]"},null,-1)),F={class:"w-full px-0 sm:px10 sm:w-[80%]"},U={class:"flex flex-col column-3 justify-center items-center align-middle mt-7"},R={class:"w-full px-5 sm:px-0 sm:max-w-[50rem] h-96"},q={class:"relative h-full w-full"},G=["src"],H={class:"avatar absolute bottom-[-2rem] left-[39%] sm:left-[45%] rounded-full border border-white elevation"},J={class:"w-[5rem] rounded-full"},Q=["src"],W={class:"text-5xl font-serif font-extrabold text-center mt-9"},X=d(()=>e("p",null,null,-1)),Y={id:"VKCount"},Z={class:"text-xl font-serif font-thin text-center"},$=d(()=>e("div",{id:"VaultsSection",class:"flex"},[e("div",{class:""},[e("p",{class:"text-4xl sm:text-5xl font-serif font-extrabold text-start mt-5"},"Vaults")])],-1)),ee={key:0},te={class:"grid grid-cols-2 sm:grid-cols-4 gap-3"},se={key:1},oe=d(()=>e("p",{class:"pl-3 pt-5"},"This profile has no vaults",-1)),le=[oe],ae=d(()=>e("div",{class:""},[e("p",{class:"text-4xl sm:text-5xl font-serif font-extrabold text-start mt-5"},"Keeps")],-1)),ie={class:"columns-2 sm:columns-4 gap-3 px-1 sm:pr-0 sm:gap-8 pt-5 mb-5"},ce=d(()=>e("div",{class:"w-3 sm:w-[20%]"},null,-1));function ne(l,a,v,s,h,x){var y;const t=m("Vault"),k=m("Keep"),b=m("KeepDetails");return c(),p(g,null,[e("div",j,[z,e("div",F,[e("div",U,[e("div",R,[e("div",q,[e("img",{class:"h-full w-full object-fit aspect-video sm:object-cover",src:s.profile.coverImg,alt:"Banner",title:"profile cover image"},null,8,G),e("div",H,[e("div",J,[e("img",{src:s.profile.picture,alt:"",title:"profile Picture"},null,8,Q)])])])]),e("p",W,_((y=s.profile)==null?void 0:y.name),1),X,e("div",Y,[e("p",Z,_(s.keeps.length)+" keeps | "+_(s.vaults.length)+" Vaults",1)])]),$,s.vaults.length!=0?(c(),p("div",ee,[e("div",te,[(c(!0),p(g,null,K(s.vaults,o=>(c(),V(t,{key:o.id,vault:o,class:"my-5 border border-zinc-600"},{default:O(()=>[L(_(o.name),1)]),_:2},1032,["vault"]))),128))])])):(c(),p("div",se,le)),ae,e("div",ie,[(c(!0),p(g,null,K(s.keeps,o=>(c(),V(k,{onClick:re=>s.setActiveKeep(o.id),key:o.id,keep:o,showCreatorPic:!1,class:"my-5 border border-zinc-600",style:T({marginTop:o.id===s.keeps[0].id?"0":"auto"})},null,8,["onClick","keep","style"]))),128))])]),ce]),A(b,{onToggleDetails:s.closeModal,isOpen:s.openDetails,"onUpdate:isOpen":a[0]||(a[0]=o=>s.openDetails=o),keep:s.actKeep,"onUpdate:keep":a[1]||(a[1]=o=>s.actKeep=o)},null,8,["onToggleDetails","isOpen","keep"])],64)}const pe=P(M,[["render",ne],["__scopeId","data-v-8fd89715"]]);export{pe as default};
